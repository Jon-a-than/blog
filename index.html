<!doctype html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/home/index.ts" type="module"></script>
    <title>博客</title>
  </head>

  <body class="flex flex-col h-100vh overflow-hidden">
    <header-bar></header-bar>
    <div class="pt-4 flex flex-col flex-1 overflow-auto scrollbar-slim gap-4">
      <div class="flex">
        <aside class="hidden lg:block basis-72 pl-2">
          <h2 class="text-lg">最新评论</h2>

          <div id="latestComments" class="flex flex-col gap-2">
            <template id="comment">
              <div class="flex gap-2 items-start">
                <div class="pa-1 bg-lime-2 border-1 border-solid rounded-full">
                  <i class="i-uil-0-plus text-lg"></i>
                </div>
                <p class="my-0 bg-primary-2 dark:bg-primary-7 rounded-lg pa-2">
                  <a href="./" class="decoration-none text-inherit">comment</a>
                </p>
              </div>
            </template>
          </div>
        </aside>
        <main class="md:mx-4 flex-1 rounded-xl pa-4">
          <h2><time>2023 • 小雪</time></h2>
          <div class="flex gap-4 justify-between flex-wrap">
            <div
            data-post-link="posts/markdown.html"
            rotate="-5 hover:0"
            border="solid 1 primary-3 dark:primary-6 rounded-lg"
            bg="primary-2 dark:primary-7 hover:primary-3 dark:hover:primary-6"
            class="dark:hover:shadow-primary-6 hover:shadow-lg transition-transform duration-300 cursor-pointer w-48 pa-2 flex flex-col gap-2"
          >
            <header>
              <h3 class="my-0">Markdown渲染预览</h3>
            </header>
            <section>
              <p class="my-0">
                <span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>markdown</span>
<span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>test</span>
              </p>
              <p class="mb-0 mt-2 h-40 overflow-hidden dark:text-primary-2 text-primary-6 line-height-5 before:content-['摘要:'] before:font-bold">
                Markdown渲染结果预览
              </p>
            </section>
            <footer class="text-end">
              <time class="text-slate-5">2023-12-05 18:04:50 +0800</time>
            </footer>
          </div>
<div
            data-post-link="posts/mini-ssr/base.html"
            rotate="-5 hover:0"
            border="solid 1 primary-3 dark:primary-6 rounded-lg"
            bg="primary-2 dark:primary-7 hover:primary-3 dark:hover:primary-6"
            class="dark:hover:shadow-primary-6 hover:shadow-lg transition-transform duration-300 cursor-pointer w-48 pa-2 flex flex-col gap-2"
          >
            <header>
              <h3 class="my-0">实现迷你SSR - 组件服务端渲染</h3>
            </header>
            <section>
              <p class="my-0">
                <span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>SSR</span>
<span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>Vue</span>
              </p>
              <p class="mb-0 mt-2 h-40 overflow-hidden dark:text-primary-2 text-primary-6 line-height-5 before:content-['摘要:'] before:font-bold">
                由于 Nuxtjs 等元框架的使用，一直好奇于 SSR 的实现原理，所以决定使用最少的依赖（排雷：无 Express，了解 h 函数的使用）尝试实现一下 Vue3 的服务端渲染。
              </p>
            </section>
            <footer class="text-end">
              <time class="text-slate-5">2023-12-01 20:06:31 +0800</time>
            </footer>
          </div>
<div
            data-post-link="posts/mini-ssr/prefetch.html"
            rotate="-5 hover:0"
            border="solid 1 primary-3 dark:primary-6 rounded-lg"
            bg="primary-2 dark:primary-7 hover:primary-3 dark:hover:primary-6"
            class="dark:hover:shadow-primary-6 hover:shadow-lg transition-transform duration-300 cursor-pointer w-48 pa-2 flex flex-col gap-2"
          >
            <header>
              <h3 class="my-0">实现迷你SSR - 服务端数据预取</h3>
            </header>
            <section>
              <p class="my-0">
                <span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>SSR</span>
<span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>Vue</span>
              </p>
              <p class="mb-0 mt-2 h-40 overflow-hidden dark:text-primary-2 text-primary-6 line-height-5 before:content-['摘要:'] before:font-bold">
                数据预取是指在服务端就对所需要的 API 请求数据完成，在服务端直接将请求数据渲染出来，服务端的请求一般都快于用户端(特别在后端部署在同一服务器，或直接使用该应用 node.js 服务端的 api 服务时)，可以获得更好的用户体验和 SEO 效果。
              </p>
            </section>
            <footer class="text-end">
              <time class="text-slate-5">2023-12-01 20:06:31 +0800</time>
            </footer>
          </div>
<div
            data-post-link="posts/mini-ssr/router.html"
            rotate="-5 hover:0"
            border="solid 1 primary-3 dark:primary-6 rounded-lg"
            bg="primary-2 dark:primary-7 hover:primary-3 dark:hover:primary-6"
            class="dark:hover:shadow-primary-6 hover:shadow-lg transition-transform duration-300 cursor-pointer w-48 pa-2 flex flex-col gap-2"
          >
            <header>
              <h3 class="my-0">实现迷你SSR - 添加路由模块</h3>
            </header>
            <section>
              <p class="my-0">
                <span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>SSR</span>
<span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>Vue</span>
              </p>
              <p class="mb-0 mt-2 h-40 overflow-hidden dark:text-primary-2 text-primary-6 line-height-5 before:content-['摘要:'] before:font-bold">
                一个 Vue 单页应用通常会使用 vue-router 来处理不同页面间的跳转, 服务端也需要使用它来选择路径所需渲染的组件。
              </p>
            </section>
            <footer class="text-end">
              <time class="text-slate-5">2023-12-01 20:06:31 +0800</time>
            </footer>
          </div>
<div
            data-post-link="posts/mini-ssr/state.html"
            rotate="-5 hover:0"
            border="solid 1 primary-3 dark:primary-6 rounded-lg"
            bg="primary-2 dark:primary-7 hover:primary-3 dark:hover:primary-6"
            class="dark:hover:shadow-primary-6 hover:shadow-lg transition-transform duration-300 cursor-pointer w-48 pa-2 flex flex-col gap-2"
          >
            <header>
              <h3 class="my-0">实现迷你SSR - C/S状态同步</h3>
            </header>
            <section>
              <p class="my-0">
                <span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>SSR</span>
<span class="text-lime-8 font-extralight dark:text-lime text-xs bg-lime-2/60 dark:bg-lime-2/40 rounded-sm py-1 px-2">
                  <i class="i-uil-pricetag-alt"></i>Vue</span>
              </p>
              <p class="mb-0 mt-2 h-40 overflow-hidden dark:text-primary-2 text-primary-6 line-height-5 before:content-['摘要:'] before:font-bold">
                虽然 pinia 在 SPA 中比较鸡肋，但在服务端渲染中还是能帮我们解决很多问题的（但 Nuxtjs 提供了 useState ）。先不用 pinia ，尝试一下全局状态的设置，看看会有什么问题，新建 useCountStore 用全局响应式变量的方式创建全局状态。
              </p>
            </section>
            <footer class="text-end">
              <time class="text-slate-5">2023-12-01 20:06:31 +0800</time>
            </footer>
          </div>
          </div>
        </main>
        <aside class="hidden md:block basis-72">
          <div class="sticky top-0">
            <nav>
              <ul>
                <li>11</li>
                <li>22</li>
                <li>33</li>
              </ul>
            </nav>
          </div>
        </aside>
      </div>
      <footer></footer>
    </div>
  </body>
</html>
