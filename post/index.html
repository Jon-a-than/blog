<!doctype html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/shared/global.css" />
    <link rel="stylesheet" href="/post/index.css" />
    <link rel="icon" href="/favicon.svg">
    <script type="module" src="/post/index.ts"></script>
    <title><!-- POST_TITLE --></title>
  </head>
  <body class="flex flex-col h-100vh h-100dvh overflow-hidden">
    <header-bar></header-bar>

    <div class="pt-4 flex flex-col flex-1 overflow-auto scrollbar-slim gap-4">
      <div class="flex">
        <aside class="hidden lg:block basis-72 pl-2">
          <h2 class="text-lg">相关文章</h2>

          <ul
            id="recommendPostContainer"
            class="list-none bg-primary-2 dark:bg-primary-7 px-4 py-4 mx-4 rounded-lg"
          >
            <template id="recommendPostItem">
              <li class="text-base text-nowrap overflow-hidden text-ellipsis">
                <a class="text-inherit font-bold decoration-none hover:text-rose-3" href="#"
                  >{title}</a
                >
              </li>
            </template>
          </ul>
        </aside>
        <main class="md:mx-4 flex-1 rounded-xl overflow-hidden">
          <header>
            <h1 class="text-center"><!-- POST_TITLE --></h1>
          </header>
          <article
            class="markdown-article bg-primary-2 pa-4 rounded-xl dark:bg-primary-7 line-height-6"
          >
            <!-- POST_SLOT_START -->
            <!-- 该区块为markdown内容区域，将会被替换, 以下内容仅用于开发环境模板制作 -->

            <!-- POST_SLOT_END -->
          </article>

          <section class="bg-primary-2 mt-4 pa-4 rounded-xl dark:bg-primary-7 line-height-6">
            <h3 class="mt-0">评论</h3>
            <form id="comment" action="/api/comment" class="flex flex-col gap-4">
              <textarea
                id="comment-textarea"
                required
                placeholder="写下你的评论 (友善的评论是交流的起点)"
                text="base primary-7 dark:primary-1"
                bg="primary-1/50 hover:primary-1 focus:primary-50 dark:primary-6/50 dark:hover:primary-6 dark:focus:primary-8"
                class="pa-2 resize-y h-20 transition-background-color scrollbar-slim rounded border-none focus-visible:outline-none"
              ></textarea>
              <div class="flex justify-between">
                <input
                  id="comment-nickname"
                  type="text"
                  required
                  placeholder="请输入昵称"
                  text="base primary-7 dark:primary-1"
                  bg="primary-1/50 hover:primary-1 focus:primary-50 dark:primary-6/50 dark:hover:primary-6 dark:focus:primary-8"
                  class="pa-1 transition-background-color rounded border-none focus-visible:outline-none"
                />
                <button
                  id="comment-submit"
                  type="button"
                  bg="hover:primary-4/50 active:primary-3 primary-3 dark:hover:primary-5/50 dark:active:primary-5 dark:primary-5"
                  class="ml-auto border-none rounded font-bold py-2 px-4 transition-background-color"
                >
                  提交
                </button>
              </div>
            </form>

            <div id="comment-container" class="ml-2">
              <template id="postComment">
                <div>
                  <p class="mb-0">
                    <span data-type="author" class="font-bold after:content-[':']"
                      >${comment.author}</span
                    >
                  </p>
                  <p class="mt-0 flex flex-1 flex-col bg-primary-3 dark:bg-primary-6 rounded pa-2">
                    <span data-type="comment">${comment.comment}</span>
                    <span class="ml-auto text-sm text-primary-5 dark:text-primary-2">
                      <span data-type="position">${comment.position}</span>
                      <time data-type="time"
                        >${new Date(comment.date).toLocaleString('zh-CN')}</time
                      >
                    </span>
                  </p>
                </div>
              </template>
            </div>
          </section>
        </main>
        <aside class="hidden md:block basis-72">
          <div class="sticky top-0">
            <nav>
              <ul
                id="tocContainer"
                class="list-none bg-primary-2 dark:bg-primary-7 pl-0 py-4 mx-4 rounded-lg"
              >
                <template id="tocItem">
                  <li
                    class="text-base before:content-[''] text-rose-3 before:bg-rose-3 before:inline-block before:align-mid before:h-1em before:w-1 before:rounded"
                  >
                    <a
                      class="ml-1em text-inherit font-bold decoration-none hover:text-rose-3"
                      href="#"
                    >
                      {title}
                    </a>
                  </li>
                </template>
              </ul>
            </nav>
          </div>
        </aside>
      </div>
      <footer></footer>
    </div>
  </body>
</html>
